import{m as b,u as V,o as c,c as w,a as l,t as y,w as h,v as k,n as _,r as m,b as I,d as i,e as C,f as P,P as f,g as S,A as M,h as U}from"./index-C5qEKWeJ.js";import{_ as d}from"./MyInput-1e5SC_cd.js";import{P as $}from"./PrivacyPageView-BzUmh8yq.js";const N={class:"form-control"},A={class:"flex gap-4 cursor-pointer flex items-center"},B={class:"label-text"},D={__name:"MyCheckbox",props:b({title:{type:String,default:""},inputClass:{type:String,default:"checkbox"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const s=V(r,"modelValue"),t=r;return(p,a)=>(c(),w("div",N,[l("label",A,[l("span",B,y(t==null?void 0:t.title),1),h(l("input",{class:_([r.inputClass,"checkbox"]),"onUpdate:modelValue":a[0]||(a[0]=u=>s.value=u),type:"checkbox"},null,2),[[k,s.value]])])]))}},E={dir:"rtl",class:"bg-gray-200 shadow rounded-xl mx-auto max-w-2xl p-2 4xs:p-4 flex min-h-screen items-start"},R={class:"bg-white rounded-xl shadow shadow-purple-400 w-full"},j={class:"rounded-t-xl bg-gray-100 flex items-center justify-between shadow-sm shadow-purple-400 gap-4 p-2"},z=["src"],T={class:"mt-2 flex flex-col gap-4 p-2 4xs:p-4 xs:p-6"},q={class:"flex gap-2 items-center"},J={__name:"RegisterPageView",setup(r){const s=m(!1),t=m({}),p=U(),a=m(!1),u=()=>{if(t.value.confirmPassword!=t.value.password){swal("رمز عبور وارد شده با تکرار آن یکسان نیست لطفا دوباره تلاش کنید");return}if(s.value==!1){swal("تیک پذیرش قوانین و شرایط استفاده از برنامه را فعال نکرده اید");return}f("client/register",{info:t.value}).then(n=>{n.ok&&(window.localStorage.setItem("api_token",n.api_token),window.localStorage.setItem("user_id",n.user_id),v(),swal("با تشکر از شما","ثبت نام شما با موفقیت انجام شد","success").then(e=>{p.replace({name:"home_page",hash:"#profile"})}))})},x=()=>{a.value=!1},g=()=>{a.value=!0,S(()=>{window.document.getElementById("modal").scrollIntoView({behavior:"smooth"})})},v=n=>{f("client/profile",{}).then(e=>{e.ok&&(window.localStorage.setItem("name",e.name),window.localStorage.setItem("username",e.username),window.localStorage.setItem("role",e.role),window.localStorage.setItem("mobile",e.mobile),window.localStorage.setItem("email",e.email),window.localStorage.setItem("login",!0),n())})};return(n,e)=>(c(),w("div",E,[l("div",R,[l("div",null,[l("div",j,[e[7]||(e[7]=l("h2",{class:"font-bold text-xl text-purple-700"},"NextAVA",-1)),l("img",{class:"rounded-full w-16",src:I(M).server+"contents/images/site/static/NextAvaIcon512-sm-center.png",alt:""},null,8,z)]),e[8]||(e[8]=l("p",{class:"text-2xl font-bold text-center mt-6"},"ساخت حساب کاربری جدید",-1))]),l("div",T,[i(d,{bottomtext:"نام خود (یا نام مستعار دلخواه) برای خود بنویسید",placeholder:"Name","input-class":"input-primary","title-class":"font-bold text-lg",modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.name=o),title:"نام (یا نام مستعار)"},null,8,["modelValue"]),i(d,{bottomtext:"یک نام کاربری دلخواه به انگلیسی بنویسید مانند iman70",placeholder:"Username","input-class":"input-primary","title-class":"font-bold text-lg",modelValue:t.value.username,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.username=o),title:"نام کاربری"},null,8,["modelValue"]),i(d,{bottomtext:"رمز عبور حداقل ۶ کارکتر باشد",placeholder:"Password","input-class":"input-primary","title-class":"font-bold text-lg",type:"password",modelValue:t.value.password,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.password=o),title:"رمزعبور"},null,8,["modelValue"]),i(d,{bottomtext:"رمزعبور را مجددا وارد کنید","input-class":"input-primary","title-class":"font-bold text-lg",type:"password",modelValue:t.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.confirmPassword=o),title:"تکرار رمزعبور"},null,8,["modelValue"]),l("div",q,[i(D,{modelValue:s.value,"onUpdate:modelValue":e[4]||(e[4]=o=>s.value=o),inputClass:"checkbox-success",dir:"ltr",title:"قوانین و شرایط استفاده از برنامه را خوانده و آن را می پذیرم"},null,8,["modelValue"]),l("a",{class:"text-blue-500 font-bold cursor-pointer",onClick:e[5]||(e[5]=o=>g())},"(مشاهده قوانین)")]),l("button",{onClick:u,class:"btn btn-primary font-bold mt-4"},"ثبت نام")])]),a.value?(c(),C($,{key:0,id:"modal",onClose:e[6]||(e[6]=o=>x())})):P("",!0)]))}};export{J as default};
