import{m as v,u as b,o as p,c as x,a as l,t as V,w as y,v as k,n as h,r as c,b as _,d as i,e as C,f as I,P as w,g as P,A as S,h as $}from"./index-C1Cm9XI4.js";import{_ as d}from"./MyInput-CENNrfRP.js";import{P as M}from"./PrivacyPageView-CJgjQwDz.js";const U={class:"form-control"},N={class:"flex gap-4 cursor-pointer flex items-center"},A={class:"label-text"},B={__name:"MyCheckbox",props:v({title:{type:String,default:""},inputClass:{type:String,default:"checkbox"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const s=b(r,"modelValue"),t=r;return(f,a)=>(p(),x("div",U,[l("label",N,[l("span",A,V(t==null?void 0:t.title),1),y(l("input",{class:h([r.inputClass,"checkbox"]),"onUpdate:modelValue":a[0]||(a[0]=u=>s.value=u),type:"checkbox"},null,2),[[k,s.value]])])]))}},D={dir:"rtl",class:"bg-gray-200 shadow rounded-xl mx-auto max-w-2xl p-2 4xs:p-4 flex min-h-screen items-start"},E={class:"bg-white rounded-xl shadow shadow-purple-400 w-full"},R={class:"rounded-t-xl bg-gray-100 flex items-center justify-between shadow-sm shadow-purple-400 gap-4 p-2"},j=["src"],z={class:"mt-2 flex flex-col gap-4 p-2 4xs:p-4 xs:p-6"},T={class:"flex gap-2 items-center"},H={__name:"RegisterPageView",setup(r){const s=c(!1),t=c({}),f=$(),a=c(!1),u=()=>{if(t.value.confirmPassword!=t.value.password){swal("رمز عبور وارد شده با تکرار آن یکسان نیست لطفا دوباره تلاش کنید");return}if(s.value==!1){swal("تیک پذیرش قوانین و شرایط استفاده از برنامه را فعال نکرده اید");return}w("client/register",{info:t.value}).then(n=>{n.ok&&(window.localStorage.setItem("api_token",n.api_token),window.localStorage.setItem("user_id",n.user_id),g(),swal("با تشکر از شما","ثبت نام شما با موفقیت انجام شد","success").then(e=>{f.replace({name:"home_page",hash:"#profile"})}))})},m=()=>{a.value=!a.value,P(()=>{window.document.getElementById("modal").scrollIntoView({behavior:"smooth"})})},g=n=>{w("client/profile",{}).then(e=>{e.ok&&(window.localStorage.setItem("name",e.name),window.localStorage.setItem("username",e.username),window.localStorage.setItem("role",e.role),window.localStorage.setItem("mobile",e.mobile),window.localStorage.setItem("email",e.email),window.localStorage.setItem("login",!0),n())})};return(n,e)=>(p(),x("div",D,[l("div",E,[l("div",null,[l("div",R,[e[8]||(e[8]=l("h2",{class:"font-bold text-xl text-purple-700"},"NextAVA",-1)),l("img",{class:"rounded-full w-16",src:_(S).server+"contents/images/site/static/NextAvaIcon512-sm-center.png",alt:""},null,8,j)]),e[9]||(e[9]=l("p",{class:"text-2xl font-bold text-center mt-6"},"ساخت حساب کاربری جدید",-1))]),l("div",z,[i(d,{bottomtext:"نام خود (یا نام مستعار دلخواه) برای خود بنویسید",placeholder:"Name","input-class":"input-primary","title-class":"font-bold text-lg",modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.name=o),title:"نام (یا نام مستعار)"},null,8,["modelValue"]),i(d,{bottomtext:"یک نام کاربری دلخواه به انگلیسی بنویسید مانند iman70",placeholder:"Username","input-class":"input-primary","title-class":"font-bold text-lg",modelValue:t.value.username,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.username=o),title:"نام کاربری"},null,8,["modelValue"]),i(d,{bottomtext:"رمز عبور حداقل ۶ کارکتر باشد",placeholder:"Password","input-class":"input-primary","title-class":"font-bold text-lg",type:"password",modelValue:t.value.password,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.password=o),title:"رمزعبور"},null,8,["modelValue"]),i(d,{bottomtext:"رمزعبور را مجددا وارد کنید","input-class":"input-primary","title-class":"font-bold text-lg",type:"password",modelValue:t.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.confirmPassword=o),title:"تکرار رمزعبور"},null,8,["modelValue"]),l("div",T,[i(B,{modelValue:s.value,"onUpdate:modelValue":e[4]||(e[4]=o=>s.value=o),inputClass:"checkbox-success",dir:"ltr",title:"قوانین و شرایط استفاده از برنامه را خوانده و آن را می پذیرم"},null,8,["modelValue"]),l("a",{class:"text-blue-500 font-bold cursor-pointer",onClick:e[5]||(e[5]=o=>m())},"(مشاهده قوانین)")]),l("button",{onClick:u,class:"btn btn-primary font-bold mt-4"},"ثبت نام")])]),a.value?(p(),C(M,{key:0,onClick:e[6]||(e[6]=o=>m()),id:"modal",onClose:e[7]||(e[7]=o=>m())})):I("",!0)]))}};export{H as default};
