import{r as d,c as g,a as o,u as v,b as s,w as b,d as V,e as y,P as m,o as u,A as _,f as k,n as I}from"./index-CGhiAXIC.js";import{_ as n}from"./MyInput-D9CoSQfU.js";import{_ as h}from"./MyCheckbox-dyh5LCt1.js";import{P}from"./PrivacyPageView-DYdesbiD.js";const S={dir:"rtl",class:"bg-gray-200 shadow rounded-xl mx-auto max-w-2xl p-2 4xs:p-4 flex min-h-screen items-start"},C={class:"bg-white rounded-xl shadow shadow-purple-400 w-full"},N={class:"rounded-t-xl bg-gray-100 flex items-center justify-between shadow-sm shadow-purple-400 gap-4 p-2"},U=["src"],A={class:"mt-2 flex flex-col gap-4 p-2 4xs:p-4 xs:p-6"},B={class:"flex flex-wrap gap-2 items-center"},T={__name:"RegisterPageView",setup($){const r=d(!1),t=d({}),p=k(),i=d(!1),c=()=>{if(t.value.confirmPassword!=t.value.password){swal("رمز عبور وارد شده با تکرار آن یکسان نیست لطفا دوباره تلاش کنید");return}if(r.value==!1){swal("تیک پذیرش قوانین و شرایط استفاده از برنامه را فعال نکرده اید");return}m("client/register",{info:t.value}).then(a=>{a.ok&&(window.localStorage.setItem("api_token",a.api_token),window.localStorage.setItem("user_id",a.user_id),x(),swal("با تشکر از شما","ثبت نام شما با موفقیت انجام شد","success").then(e=>{p.replace({name:"home_page",hash:"#profile"})}))})},f=()=>{i.value=!1},w=()=>{i.value=!0,I(()=>{window.document.getElementById("modal").scrollIntoView({behavior:"smooth"})})},x=a=>{m("client/profile",{}).then(e=>{e.ok&&(window.localStorage.setItem("name",e.name),window.localStorage.setItem("username",e.username),window.localStorage.setItem("role",e.role),window.localStorage.setItem("mobile",e.mobile),window.localStorage.setItem("email",e.email),window.localStorage.setItem("login",!0),a())})};return(a,e)=>(u(),g("div",S,[o("div",C,[o("div",null,[o("div",N,[e[7]||(e[7]=o("h2",{class:"font-bold text-xl text-purple-700"},"NextAVA",-1)),o("img",{class:"rounded-full w-16",src:v(_).server+"contents/images/site/static/NextAvaIcon512-sm-center.png",alt:""},null,8,U)]),e[8]||(e[8]=o("p",{class:"text-2xl font-bold text-center mt-6"},"ساخت حساب کاربری جدید",-1))]),o("div",A,[s(n,{bottomtext:"نام خود (یا نام مستعار دلخواه) برای خود بنویسید",placeholder:"Name","input-class":"input-primary","title-class":"font-bold text-lg",modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l),title:"نام (یا نام مستعار)"},null,8,["modelValue"]),s(n,{bottomtext:"یک نام کاربری دلخواه به انگلیسی بنویسید مانند iman70",placeholder:"Username","input-class":"input-primary","title-class":"font-bold text-lg",modelValue:t.value.username,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.username=l),title:"نام کاربری"},null,8,["modelValue"]),s(n,{bottomtext:"رمز عبور حداقل ۶ کارکتر باشد",placeholder:"Password","input-class":"input-primary","title-class":"font-bold text-lg",type:"password",modelValue:t.value.password,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.password=l),title:"رمزعبور"},null,8,["modelValue"]),s(n,{bottomtext:"رمزعبور را مجددا وارد کنید","input-class":"input-primary","title-class":"font-bold text-lg",type:"password",modelValue:t.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.confirmPassword=l),title:"تکرار رمزعبور"},null,8,["modelValue"]),o("div",B,[s(h,{class:"text-right",modelValue:r.value,"onUpdate:modelValue":e[5]||(e[5]=l=>r.value=l),inputClass:"checkbox-success",title:"قوانین و شرایط استفاده از برنامه را خوانده و آن را می پذیرم"},{default:b(()=>[o("a",{class:"text-blue-500 font-bold cursor-pointer",onClick:e[4]||(e[4]=l=>w())},"(مشاهده قوانین)")]),_:1},8,["modelValue"])]),o("button",{onClick:c,class:"btn btn-primary font-bold mt-4"},"ثبت نام")])]),i.value?(u(),V(P,{key:0,id:"modal",onClose:e[6]||(e[6]=l=>f())})):y("",!0)]))}};export{T as default};
