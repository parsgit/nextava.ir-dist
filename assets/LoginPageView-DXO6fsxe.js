import{r as u,c as p,a as t,u as c,b as a,P as n,o as w,A as f,f as g}from"./index-6D20Bt-x.js";import{_ as i}from"./MyInput-B3ngTELr.js";const x={dir:"rtl",class:"rounded-xl mx-auto max-w-2xl p-2 4xs:p-4 flex min-h-screen items-start"},_={class:"bg-white rounded-xl shadow shadow-purple-400 w-full"},b={class:"rounded-t-xl bg-gray-100 flex items-center justify-between shadow-sm shadow-purple-400 gap-4 p-2"},h=["src"],v={class:"mt-2 flex flex-col gap-4 p-2 4xs:p-4 xs:p-6"},k={__name:"LoginPageView",setup(I){const l=u({}),r=g(),d=()=>{n("client/login",{info:l.value}).then(o=>{o.ok&&(window.localStorage.setItem("api_token",o.api_token),window.localStorage.setItem("user_id",o.user_id),m(()=>{swal("","با موفقیت وارد شدید :)","success").then(e=>{r.replace({name:"home_page",hash:"#profile"})})}))})},m=o=>{n("client/profile",{}).then(e=>{e.ok&&(window.localStorage.setItem("name",e.name),window.localStorage.setItem("username",e.username),window.localStorage.setItem("role",e.role),window.localStorage.setItem("mobile",e.mobile),window.localStorage.setItem("email",e.email),window.localStorage.setItem("login",!0),o())})};return(o,e)=>(w(),p("div",x,[t("div",_,[t("div",null,[t("div",b,[e[2]||(e[2]=t("h2",{class:"font-bold text-xl text-purple-700"},"NextAVA",-1)),t("img",{class:"rounded-full w-16",src:c(f).server+"contents/images/site/static/NextAvaIcon512-sm-center.png",alt:""},null,8,h)]),e[3]||(e[3]=t("p",{class:"text-2xl font-bold text-center mt-6"},"ورود به حساب",-1))]),t("div",v,[a(i,{placeholder:"Username","input-class":"input-primary","title-class":"font-bold text-lg",modelValue:l.value.username,"onUpdate:modelValue":e[0]||(e[0]=s=>l.value.username=s),title:"نام کاربری"},null,8,["modelValue"]),a(i,{placeholder:"Password","input-class":"input-primary","title-class":"font-bold text-lg",type:"password",modelValue:l.value.password,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.password=s),title:"رمزعبور"},null,8,["modelValue"]),t("button",{onClick:d,class:"btn btn-primary font-bold mt-4"},"ورود ")])])]))}};export{k as default};
