import{r as m,c as p,a as l,u as c,b as a,P as r,o as w,A as f,d as g}from"./index-CqLlm3e4.js";import{_ as n}from"./MyInput-DBfv7kG5.js";const x={dir:"rtl",class:"bg-gray-200 shadow rounded-xl mx-auto max-w-2xl p-2 3xs:p-4 flex min-h-screen items-start"},v={class:"bg-white rounded-xl shadow shadow-purple-400 w-full"},b={class:"rounded-t-xl bg-gray-100 flex items-center justify-between shadow-sm shadow-purple-400 gap-4 p-2"},V=["src"],_={class:"mt-2 flex flex-col gap-4 p-2 3xs:p-4 xs:p-6"},S={__name:"RegisterPageView",setup(h){const t=m({}),i=g(),d=()=>{if(t.value.confirmPassword!=t.value.password){swal("رمز عبور وارد شده با تکرار آن یکسان نیست لطفا دوباره تلاش کنید");return}r("client/register",{info:t.value}).then(s=>{s.ok&&(window.localStorage.setItem("api_token",s.api_token),window.localStorage.setItem("user_id",s.user_id),u(),swal("با تشکر از شما","ثبت نام شما با موفقیت انجام شد","success").then(e=>{i.replace({name:"home_page",hash:"#profile"})}))})},u=s=>{r("client/profile",{}).then(e=>{e.ok&&(window.localStorage.setItem("name",e.name),window.localStorage.setItem("username",e.username),window.localStorage.setItem("role",e.role),window.localStorage.setItem("mobile",e.mobile),window.localStorage.setItem("email",e.email),window.localStorage.setItem("login",!0),s())})};return(s,e)=>(w(),p("div",x,[l("div",v,[l("div",null,[l("div",b,[e[4]||(e[4]=l("h2",{class:"font-bold text-xl text-purple-700"},"NextAVA",-1)),l("img",{class:"rounded-full w-16",src:c(f).server+"contents/images/site/static/NextAvaIcon512-sm-center.png",alt:""},null,8,V)]),e[5]||(e[5]=l("p",{class:"text-2xl font-bold text-center mt-6"},"ساخت حساب کاربری جدید",-1))]),l("div",_,[a(n,{placeholder:"Name","input-class":"input-primary","title-class":"font-bold text-lg",modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.name=o),title:"نام"},null,8,["modelValue"]),a(n,{placeholder:"Username","input-class":"input-primary","title-class":"font-bold text-lg",modelValue:t.value.username,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.username=o),title:"نام کاربری"},null,8,["modelValue"]),a(n,{placeholder:"Password","input-class":"input-primary","title-class":"font-bold text-lg",type:"password",modelValue:t.value.password,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.password=o),title:"رمزعبور"},null,8,["modelValue"]),a(n,{"input-class":"input-primary","title-class":"font-bold text-lg",type:"password",modelValue:t.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.confirmPassword=o),title:"تکرار رمزعبور"},null,8,["modelValue"]),l("button",{onClick:d,class:"btn btn-primary font-bold mt-4"},"ثبت نام")])])]))}};export{S as default};
