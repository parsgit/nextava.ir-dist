import{m as b,u as V,o as p,c as x,a as l,w as h,v as y,n as k,b as _,t as C,r as I,d as c,e as S,f as i,g as P,h as $,i as M,P as f,A as N,j as U,k as A}from"./index-9efYVxLd.js";import{_ as d}from"./MyInput-DbsSKGMR.js";import{P as B}from"./PrivacyPageView-VfHWpnq4.js";const j={class:"form-control"},D={class:"flex gap-4 cursor-pointer flex items-center"},E={class:"flex flex-wrap"},R={class:"label-text"},T={__name:"MyCheckbox",props:b({title:{type:String,default:""},inputClass:{type:String,default:"checkbox"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const s=V(r,"modelValue"),t=r;return(u,a)=>(p(),x("div",j,[l("label",D,[h(l("input",{class:k([r.inputClass,"checkbox"]),"onUpdate:modelValue":a[0]||(a[0]=m=>s.value=m),type:"checkbox"},null,2),[[y,s.value]]),l("div",E,[l("span",R,[_(C(t==null?void 0:t.title)+" ",1),I(u.$slots,"default")])])])]))}},z={dir:"rtl",class:"bg-gray-200 shadow rounded-xl mx-auto max-w-2xl p-2 4xs:p-4 flex min-h-screen items-start"},q={class:"bg-white rounded-xl shadow shadow-purple-400 w-full"},F={class:"rounded-t-xl bg-gray-100 flex items-center justify-between shadow-sm shadow-purple-400 gap-4 p-2"},G=["src"],H={class:"mt-2 flex flex-col gap-4 p-2 4xs:p-4 xs:p-6"},J={class:"flex flex-wrap gap-2 items-center"},Q={__name:"RegisterPageView",setup(r){const s=c(!1),t=c({}),u=U(),a=c(!1),m=()=>{if(t.value.confirmPassword!=t.value.password){swal("رمز عبور وارد شده با تکرار آن یکسان نیست لطفا دوباره تلاش کنید");return}if(s.value==!1){swal("تیک پذیرش قوانین و شرایط استفاده از برنامه را فعال نکرده اید");return}f("client/register",{info:t.value}).then(n=>{n.ok&&(window.localStorage.setItem("api_token",n.api_token),window.localStorage.setItem("user_id",n.user_id),v(),swal("با تشکر از شما","ثبت نام شما با موفقیت انجام شد","success").then(e=>{u.replace({name:"home_page",hash:"#profile"})}))})},w=()=>{a.value=!1},g=()=>{a.value=!0,A(()=>{window.document.getElementById("modal").scrollIntoView({behavior:"smooth"})})},v=n=>{f("client/profile",{}).then(e=>{e.ok&&(window.localStorage.setItem("name",e.name),window.localStorage.setItem("username",e.username),window.localStorage.setItem("role",e.role),window.localStorage.setItem("mobile",e.mobile),window.localStorage.setItem("email",e.email),window.localStorage.setItem("login",!0),n())})};return(n,e)=>(p(),x("div",z,[l("div",q,[l("div",null,[l("div",F,[e[7]||(e[7]=l("h2",{class:"font-bold text-xl text-purple-700"},"NextAVA",-1)),l("img",{class:"rounded-full w-16",src:S(N).server+"contents/images/site/static/NextAvaIcon512-sm-center.png",alt:""},null,8,G)]),e[8]||(e[8]=l("p",{class:"text-2xl font-bold text-center mt-6"},"ساخت حساب کاربری جدید",-1))]),l("div",H,[i(d,{bottomtext:"نام خود (یا نام مستعار دلخواه) برای خود بنویسید",placeholder:"Name","input-class":"input-primary","title-class":"font-bold text-lg",modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.name=o),title:"نام (یا نام مستعار)"},null,8,["modelValue"]),i(d,{bottomtext:"یک نام کاربری دلخواه به انگلیسی بنویسید مانند iman70",placeholder:"Username","input-class":"input-primary","title-class":"font-bold text-lg",modelValue:t.value.username,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.username=o),title:"نام کاربری"},null,8,["modelValue"]),i(d,{bottomtext:"رمز عبور حداقل ۶ کارکتر باشد",placeholder:"Password","input-class":"input-primary","title-class":"font-bold text-lg",type:"password",modelValue:t.value.password,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.password=o),title:"رمزعبور"},null,8,["modelValue"]),i(d,{bottomtext:"رمزعبور را مجددا وارد کنید","input-class":"input-primary","title-class":"font-bold text-lg",type:"password",modelValue:t.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.confirmPassword=o),title:"تکرار رمزعبور"},null,8,["modelValue"]),l("div",J,[i(T,{class:"text-right",modelValue:s.value,"onUpdate:modelValue":e[5]||(e[5]=o=>s.value=o),inputClass:"checkbox-success",title:"قوانین و شرایط استفاده از برنامه را خوانده و آن را می پذیرم"},{default:P(()=>[l("a",{class:"text-blue-500 font-bold cursor-pointer",onClick:e[4]||(e[4]=o=>g())},"(مشاهده قوانین)")]),_:1},8,["modelValue"])]),l("button",{onClick:m,class:"btn btn-primary font-bold mt-4"},"ثبت نام")])]),a.value?(p(),$(B,{key:0,id:"modal",onClose:e[6]||(e[6]=o=>w())})):M("",!0)]))}};export{Q as default};
